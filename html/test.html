<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #player {
            background-color: teal;
            position: absolute;
        }
    </style>
</head>

<body>
    <script>
        class Player {
            constructor(pos) {
                this.pos = pos;
            }
        }
        function createEl(el) {
            let dom = document.createElement('div');
            dom.setAttribute('id', 'player');
            dom.style.top = `${el.pos.y * scale}px`;
            dom.style.left = `${el.pos.x * scale}px`;
            dom.style.height = `${1.5 * scale}px`;
            dom.style.width = `${1 * scale}px`;
            document.body.appendChild(dom);
            return dom;
        }
        let speed = 0, speedY = 0;
        let gravity = 1.5;
        scale = 40;
        let p = new Player({ x: 5*scale, y: 6*scale })
        let el = createEl(p);
        window.addEventListener('keydown', keydown);
        window.addEventListener('keyup', keyup);

        function keydown() {
            switch (window.event.key){
                case "ArrowRight":
                    speed = 8;
                    break;
                case "ArrowLeft":
                    speed = -8;
                    break;
                case "ArrowUp":
                    speedY = 10;
                    break;    
            }
        }
        function keyup() {
            if (window.event.key == "ArrowUp")
                speedY = 0;
            else 
                speed = 0;
        }
        let then = Date.now();
        function update() {
            let now = Date.now();
            let dif = now - then;
            if(dif > 1000/120) {
                p.pos.x = p.pos.x + speed;
                p.pos.y = p.pos.y - speedY + gravity;
                el.style.left = `${p.pos.x}px`;
                el.style.top = `${p.pos.y}px`;
                then = now;
            }
            requestAnimationFrame(update);
        }
        update();
    </script>
</body>

</html>